<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
  <link rel="shortcut icon" href="/tukai-removebg-preview.png" type="image/x-icon">

  <link rel="stylesheet" href="dist/output.css">
  <title>Travel with Totowala</title>
</head>

<body>
  <nav>
    <ul class="flex h-16 sm:bg-tuku-300 space-x-4 bg-tuku-300 tracking-wide list-none">
      <!-- <a href="/index.html"> <img class="w-24 ml-11 mr-1 sm:h-16 flex absolute -left-4 rounded-xl " src="/img/logo.jpeg"></a> -->
      <li class="font-extrabold  absolute   sm:text-lg lg:left-14 sm:left-1 font-mono lg:text-3xl mt-2 py-2">Toto Wala
      </li>
      <a href="/booknow.html" class="w-8 h-8 absolute sm:left-20 lg:left-72 mt-8"><img src="/img/vehicle.png"></a>
      <a href="/booknow.html" class="absolute text-xl lg:left-80 sm:left-28 font-bold  mt-8">Ride</a>
      <a href="/delivery-ride.html" class="w-9 h-8 absolute sm:left-112 lg:left-59 mt-7"><img
          src="/img/delivery.e-fotor-bg-remover-2023073191356.png"></a>
      <a href="/delivery-ride.html" class="absolute text-xl  lg:left-111  font-bold sm:left-52
      mt-8">Delivery</a>
      <img src="/img/peer-help.png" alt="help" class="w-7 h-7 absolute sm:invisible md:visible lg:right-48 mt-6">
      <a href="/contact.html" class="absolute font-semibold sm:invisible md:visible lg:right-36 mt-6">Help</a>
      <a href="#"> <img
          src="https://www.citypng.com/public/uploads/small/116395943260tji5ordfujy44njydzhlidv8reqpmtun7ggx1oszpz1dcistzxnmag7do6vxkjxphlsgueuurkg9pkpbwgorvv9lratpxm38rp5.png"
          class="w-9 h-9 mt-5 absolute sm:right-10 lg:right-20"></a>
      <a href="#"><img src="/img/down-arrow_156349.png" alt="down-arrow"
          class="w-5 h-5 mt-7 absolute sm:right-4 lg:right-14"></a>
    </ul>
  </nav>
  <a href="#">
    <div data-v-0200dc14="" class="lg:max-w-[80px] sm:max-w-[80px] sm:ml-24 lg:ml-73 h-1 bg-black"></div>
  </a>


  <section>
    <div
      class="w-80 lg:mt-12 sm:mt-6 shadow-lg shadow-slate-600 rounded-2xl  h-73 border border-slate-400 sm:ml-10 lg:ml-20">

      <p class="ml-28 text-xl font-bold">Get a ride</p>

      <label for="name" class="block"></label>
      <input type="text" id="pickup" name="name" placeholder="Pickup location" required
        class=" absolute w-72 ml-4 mt-4 border rounded-md bg-slate-100 hover:border-blackrounded py-2 px-3">

      <!-- down & up arrow -->
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
        class="w-6 ml-36 mt-14 h-6">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5" />
      </svg>

      <label for="Dropoff" class="block -mt-20"></label>
      <input type="text" id="Dropoff" name="name" placeholder="Dropoff location" required
        class=" absolute w-72 ml-4 mt-20 border rounded-md bg-slate-100 hover:border-black py-2 px-3">
      <!-- today -->
      <label for="today"></label>
      <input type="date" required class=" w-32 h-10 mt-36 ml-4 rounded-md">
      <!-- time -->
      <label for="today" class=""></label>
      <input type="time" class="absolute ml-12 mt-36 h-10 rounded-md">

      <!-- Search button -->
      <button
        class="rounded-lg mt-6 flex  w-72 mx-2 py-3  ml-4 px-28 border bg-black text-white hover:bg-white hover:text-black shadow-lg font-bold  "
        id="search-btn">Search</button>
    </div>
  </section>

  <section>
    <div class="lg:ml-57 sm:h-96 sm:w-96 rounded-md border lg:w-104 lg:h-69 lg:-mt-73 sm:mt-10" id="map"></div>
  </section>

  <!-- toto drivers -->
  <section class="lg:-mt-113  sm:mt-16  flex  ">
    <div
      class="w-96 lg:mt-12 shadow-lg shadow-slate-600 rounded-2xl hidden h-96 border border-slate-400 sm:ml-1 lg:ml-11"
      id="driver-list">

      <!-- 1st driver -->
      <div
        class="py-8 px-8 hover:border-2 hover:border-black max-w-sm mx-auto bg-white rounded-xl shadow-lg space-y-2 sm:py-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-6">
        <img class="block mx-auto h-24 rounded-full sm:mx-0 sm:shrink-0" src="/img/rina devi.png" alt="Woman's Face" />
        <div class="text-center space-y-2 sm:text-left">
          <div class="space-y-0.5">
            <p class="text-lg text-black font-semibold">
              Rina Devi
            </p>
            <p class="text-slate-500 font-medium text-sm">
              5 mins away • Rs 15 / kms
            </p>
          </div>
          <button
            class="px-4 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-200 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2">Accept</button>
          <button
            class="px-4 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-200 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2">Decline</button>
        </div>
      </div>

      <!-- 2nd driver-->

      <div
        class="py-8 px-8 hover:border-2 hover:border-black max-w-sm mx-auto bg-white rounded-xl shadow-lg space-y-2 sm:py-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-6">
        <img class="block mx-auto h-24 rounded-full sm:mx-0 sm:shrink-0" src="/img/abdul khan.png" alt="man's Face" />
        <div class="text-center space-y-2 sm:text-left">
          <div class="space-y-0.5">
            <p class="text-lg text-black font-semibold">
              Abdul Khan
            </p>
            <p class="text-slate-500 font-medium text-sm">
              15 mins away • Rs 12 / kms
            </p>
          </div>
          <button
            class="px-4 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-200 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2">Accept</button>
          <button
            class="px-4 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-200 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2">Decline</button>
        </div>
      </div>

      <!-- 3rd driver -->

      <div
        class="py-8 px-8 hover:border-2 hover:border-black max-w-sm mx-auto bg-white rounded-xl shadow-lg space-y-2 sm:py-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-6">
        <img class="block mx-auto h-24 rounded-full sm:mx-0 sm:shrink-0" src="/img/madan.png" alt="man's Face" />
        <div class="text-center space-y-2 sm:text-left">
          <div class="space-y-0.5">
            <p class="text-lg text-black font-semibold">
              Madan mandal
            </p>
            <p class="text-slate-500 font-medium text-sm">
              15 mins away • Rs 9 / kms
            </p>
          </div>
          <button
            class="px-4 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-200 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2">Accept</button>
          <button
            class="px-4 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-200 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2">Decline</button>
        </div>
      </div>

    </div>
  </section>
  <br>
  <br>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
  <script>
    let pickupInput = document.getElementById("pickup");
    let dropoffInput = document.getElementById("Dropoff");
    let dateInput = document.querySelector("input[type='date']");
    let searchbtn = document.getElementById("search-btn");
    let driver = document.getElementById("driver-list");
    searchbtn.addEventListener("click", () => {

      if (pickupInput.value && dropoffInput.value && dateInput.value) {
        driver.classList.remove('hidden');
      }
      else {
        alert("Please input the place and date");
      }
    });


    let mapOptions = {
      center: [22.9868, 87.8550],
      zoom: 13
    }
    let map = new L.map('map', mapOptions),
      layer = new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png');
    map.addLayer(layer);
  

    let _firstLatLng,
      _secondLatLng,
      _polyline,
      merkerA = null,
      markerB = null;
    map.on('click', (e) => {
      if (!_firstLatLng) {

        //get first point latitude and longitude
        _firstLatLng = e.latlng;
        console.log(_firstLatLng);

        //create first marker and add popup
        markerA = L.marker(_firstLatLng).addTo(map).bindPopup('Point A<br/>' + e.latlng).openPopup();
        console.log(markerA)


      } else if (!_secondLatLng) {
        //get second point latitude and longitude
        _secondLatLng = e.latlng;


        //create second marker and add popup
        markerB = L.marker(_secondLatLng).addTo(map).bindPopup('Point B<br/>' + e.latlng).openPopup();


        //draw a line between two points
        _polyline = L.polyline([_firstLatLng, _secondLatLng], {
          color: 'skyblue'
        });

        //add the line to the map
        _polyline.addTo(map);

        //get the distance between two points
        let _length = map.distance(_firstLatLng, _secondLatLng);

        //display the result
        document.getElementById('length').innerHTML = _length;

      } else {

        //if already we have two points first we remove the polyline object
        if (_polyline) {
          map.removeLayer(_polyline);
          _polyline = null;
        }

        //get new point latitude and longitude
        _firstLatLng = e.latlng;

        //remove previous markers and values for second point
        map.removeLayer(markerA);
        map.removeLayer(markerB);
        _secondLatLng = null;

        //create new marker and add it to map
        markerA = L.marker(_firstLatLng).addTo(map).bindPopup('Point A<br/>' + e.latlng).openPopup();

      }
    });
  </script>

</body>

</html>